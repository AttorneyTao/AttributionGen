# OSS Attribution Generator

A Python tool to generate attribution files for open source software dependencies.

## Features

- Groups components by license type
- Configurable license text storage
- Customizable output templates
- Supports JSON and YAML input formats
- Clean text output with proper separators

## Installation

```bash
# Create virtual environment with uv
uv venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install dependencies
uv pip install -e .
```

## Usage

### Command Line

```bash
# Generate attribution file
oss-attr example_input.yaml

# Specify custom output file
oss-attr example_input.yaml -o MY_ATTRIBUTIONS.txt

# Use custom config files
oss-attr example_input.yaml -l my_licenses.yaml -t my_templates.yaml
```

### Python API

```python
from oss_attribution_generator import AttributionGenerator

generator = AttributionGenerator()
generator.generate_from_file("example_input.yaml", "ATTRIBUTIONS.txt")
```

## Configuration

### License Configuration (`licenses.yaml`)

Store full license texts mapped to SPDX identifiers:

```yaml
MIT: |
  MIT License
  [full license text...]

Apache-2.0: |
  Apache License
  [full license text...]
```

### Template Configuration (`templates.yaml`)

Customize output format:

```yaml
component: |
  {name}
  Copyright: {copyright}
  License: {license}
  
  {license_text}

separator: "--------------------------------------------------------------------"
header: "OPEN SOURCE SOFTWARE ATTRIBUTIONS\n"
footer: "\nGenerated by OSS Attribution Generator"
```

### Input Format

Components can be specified in JSON or YAML:

```yaml
components:
  - name: "package-name"
    copyright: "Copyright notice"
    license: "SPDX-License-Identifier"
    version: "1.0.0"  # optional
```

## Development

```bash
# Install development dependencies
uv pip install -e ".[dev]"

# Run tests
pytest

# Format code
black .

# Lint
flake8
```

## License

MIT License - see LICENSE file for details.
